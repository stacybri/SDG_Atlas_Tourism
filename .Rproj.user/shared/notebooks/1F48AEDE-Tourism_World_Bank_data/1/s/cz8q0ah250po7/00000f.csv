"0","#| label: covidtransportdf3"
"0",""
"0","#read in data from Macau"
"0","# Macau"
"0","# https://www.camacau.com/en/OurBusiness/TrafficStatsPassengers"
"0","singapore_df <- read_excel(here(""Data"",""singapore_hotel_data.xlsx""), sheet='T2',skip=9) %>%"
"0","  filter(`Data Series`==""Hotel Room Revenue (Thousand Dollars)"" ) %>%"
"0","  pivot_longer(cols=c(-`Data Series`),"
"0","               names_to='month',"
"0","               values_to='revenue') %>%"
"0","  mutate(year=substr(month,1,4),"
"0","         month=substr(month,6,8)) %>%"
"0","  mutate(month=factor(month,"
"0","      levels=c("
"0","      ""Jan"","
"0","      ""Feb"","
"0","      ""Mar"","
"0","      ""Apr"","
"0","      ""May"","
"0","      ""Jun"","
"0","      ""Jul"","
"0","      ""Aug"", "
"0","      ""Sep"","
"0","      ""Oct"","
"0","      ""Nov"","
"0","      ""Dec"""
"0","    )"
"0","  ))"
"0",""
"0","#Create a date variable by combining year and month"
"0","singapore_df$date <- as.Date(paste(singapore_df$year, as.numeric(singapore_df$month), ""01"", sep = ""-""))"
"0",""
"0","# Ensure the date is in the correct format (year-month-day)"
"0","singapore_df$date <- format(singapore_df$date, format = ""%Y-%m-%d"")"
"0",""
"0","singapore_df <- singapore_df %>%"
"0","  arrange(date) %>%"
"0","  mutate(date=as.Date(date))"
"0",""
"0","# Create a highcharter time series plot"
"0","highchart(type = ""stock"") %>%"
"0","  hc_title(text = ""Hotel Room Revenue (Thousand Dollars) - Singapore"") %>%"
"0","  hc_xAxis(type = ""datetime"", title = list(text = ""Date""),"
"0","    dateTimeLabelFormats = list("
"0","      year = list(main = ""%Y"")"
"0","    )) %>%"
"0","  hc_yAxis(title = list(text = ""Revenue"")) %>%"
"0","  hc_add_series(data = singapore_df, hcaes(x = date, y = revenue), name = ""Revenue"", type = ""line"")"
